<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <title></title>
    <script>
    window.addEventListener("DOMContentLoaded", function(){
      var btn = document.querySelector("button");
      btn.onclick = function(){
        //비동기를 위한 객체 필요
        //클라이언트와 서버에 데이터 요청 및 응답을 처리해줌
        console.log("XMLHttpRequest객체 생성");
        var xhr = new XMLHttpRequest(); //서버에 데이터 요청및 응답을 처리해준다

        //request에 설정 내용을 넣음
        //open("전송방식","요청url","비동기여부");
        console.log("open 메서드 호출");
        xhr.open("get","http://localhost:8080/mydata/data.xml",false); //true비동기라는방식은  데이타가 다넘어올때까지 기다리지않고 코드실행이된다
        //false데이터를 다받아보겠다

        //데이터를 전송
        //send(): request를 서버로 보냄
        console.log("send 메서드 호출");
        xhr.send();
        //응답 데이터 처리
        console.log("send후 데이터 받기");
        var x = xhr.responseText; //결과값을 담는다.
        console.log(x);
        console.log("스크립트 끝");
      }
    });
    </script>
  </head>
  <body>
    <h3>xml 데이타를 가져오자</h3>
    <button type="button" name="button">데이타 가져오기</button>
  </body>
</html>
